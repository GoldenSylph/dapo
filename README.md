# Инициатива создания децентрализованной автономной партийной организации (ДАПО) для партии "Рассвет"

`Версия: Челябинск`

## Предисловие

Уважаемый Даниил Дмитриевич,

Вашему вниманию представляется документ, который описывает теоретическое распределённое программное обеспечение спроектированное для реализации и автоматизации управления мнением партии.  

## Глоссарий

фыв

## Мотивация

Современные партии располагают тоннами текста помимо Устава, Программы и Декларации ценностей в том или ином её виде. Из-за чего тяжело миновать несколько болей, которые могут беспокоить любого члена партии.

1) Чтобы партийным должностным лицам с широким кругом полномочий принимать решения качественно и понимая мнение партии верно, им необходимы консультации с коллегами или независимыми специалистами. Размеры эти консультаций по участникам и длительность их, в общем случае, непредсказуемы и могут быть избыточными или наоборот слишком бессодержательными. Но даже при всём при этом, остаётся шанс совершить ошибку.
2) Каждый раз, чтобы понять любой аспект свежего мнения партии (напр. Чтобы инициировать голосование или принять решение на месте), необходимо созывать соответсвующие управляющие органы партии. Это создаёт дополнительную временную и бюрократическую нагрузку.
3) Каждый документ порождаемый коллективной волей партии, основанной на её мнении, представляет из себя поправку. Каждая новая поправка - это головная боль для любого члена партии, который не хочет бегать по всей истории вопроса, а лишь хочет понять текущее состоянее дел.

Каждая из перечисленных болей, может решаться ДАПО таким образом:

1) ДАПО агрегирует всю информацию по любому делу или предмету обсуждения учитывая одновременно как фактический так и вероятностный его аспект. Поэтому она может давать рекомендации, которые могут заменить некоторые из необходимых для принятия решения телодвижений. 
   1) Например, вышел новый закон, нарушающий естесственные права граждан. Вы, директор МО "Рассвет". Вместо того, чтобы задавать вопрос, как члены партии зарегистрированные в МО видят этот закон, Вы идёте в ДАПО, запрашиваете статистически обоснованную оценку мнения с наперёд заданной точностью в 80%. ДАПО делает агрегацию мнения, и выдаёт какую-то конкретную качественную или количественную характеристику того, как себя могут почувствовать члены партии узнав об этом законе с вероятностью 80%. Следовательно, Вы реформируете свой вопрос Совету или Общему собранию МО из более общего, в более конкретный, экономя время на уточняющих вопросах и поправках к формулировкам вопроса.
2) Рекомендация ДАПО даёт возможность качественно фильтровать вопросы органам партии, для того чтобы понимать эти самые аспекты мнения партии. А иногда, рекомендация может совсем снимать необходимость созыва этих самых органов, для задавания вопросов, не порождая вторую тонну документации.
3) После каждой рекомендации ДАПО имеет возможность учитывать реакцию на эту рекомендацию, каждый раз дообучаясь понимать мнение партии. Поэтому любой член партии, может дать "запрос" в ДАПО и получить как самое свежее мнение партии, так и историю его изменения. 

## Используемые инструменты разработки

Solidity, OpenZeppelin, React + Wagmi, любой тайпскрипт шаблонизатор для генерации человекочитаемой рекомендации, Python бэкенд для оценки выборочных статистик.

## Вероятностная модель мнения партии

### Формальная модель

Мнение партии $\mathcal{M}$ формализуется как кортеж из двух матриц случайных величин:

$$
\mathcal{M} = (\mathbf{X}, \mathbf{Y})
$$

где:

- $\mathbf{X} \in \mathbb{R}^{m \times n}$ — матрица **непрерывных случайных величин**. Каждая ячейка $X_{i,j}$ описывает количественную оценку или показатель, важный для идеологической или программной позиции партии.
- $\mathbf{Y} \in \mathbb{Z}^{p \times q}$ — матрица **дискретных случайных величин**, описывающих качественные, категориальные или оценочные суждения партии по соответствующим вопросам.

Каждая ячейка матрицы содержит параметры случайной величины:
- для $\mathbf{X}$: $X_{i,j} \sim \mathcal{D}_{i,j}(\theta)$ — нормальное, логнормальное, бета и т.д.
- для $\mathbf{Y}$: $Y_{k,l} \sim \text{Categorical}(p_1, ..., p_r)$ — вероятности по категориям мнений.

Модель $\mathcal{M}$ может изменяться во времени: 

$$
\mathcal{M_t} \rightarrow \mathcal{M_{t+1}} = \mathcal{M_t} + \Delta\mathcal{M}
$$

### Обоснование перехода к эмпирической модели

Формальная модель мнения партии, представленная как кортеж параметризованных распределений, теоретически точна и математически строгая. Однако при реализации жизненного цикла $M$ в инфраструктуре DAO на языке Solidity возникает ряд ограничений:

- Невозможно хранить непрерывные распределения непосредственно в on-chain памяти без значительных затрат.
- Отсутствие нативной поддержки вещественных чисел в Solidity ограничивает работу с параметрами распределений.
- Участие членов DAO, голосующих за значения и оценки, формирует выборки, а не готовые распределения.

В этой связи более реалистичным и практически пригодным подходом становится использование **накапливаемых выборок**. Таким образом, ячейки матриц мнения хранят не априорно заданные распределения, а выборки значений, которые можно агрегировать и аппроксимировать off-chain или по запросу on-chain.

Это позволяет связать формальную модель с технической реализацией в рамках DAO-процессов, не теряя смысловой строгости и соответствия исходной структуре.

### Сводная формула и определение агрегирующей функции $f$

$$
M = (S_X, S_Y) \\
\hat{M} = f(S_X, S_Y)
$$

Где $f$ — это функция агрегирования, которая строит оценку текущего мнения партии на основании накопленных выборок. Эта функция применяется:

1. **В рамках внутренних процессов партии**: когда необходимо определить доминирующее мнение по инициативе, теме или показателю.
2. **При принятии решений согласно Уставу**: агрегированное значение или распределение может служить основанием для проведения голосования съездом, конференцией или советом.

#### Формальное определение функции $f$

Функция $f$ определяется как преобразование:

$f : (S_X, S_Y) → (\hat{X}, \hat{Y})$


Где:
- $\hat{X}_{i,j} = \text{Estimate}(S_X[i][j])$ — оценка распределения (например, метод моментов, медиана, дисперсия) или агрегированная величина (например, среднее значение, доверительный интервал).
- $\hat{Y}_{k,l} = \text{Histogram}(S_Y[k][l])$ — оценка вероятностей категорий по частотам выборки.

#### Пример использования в процедурах DAO:
- Если изменение мнения ($\hat{M}'$) приводит к отклонению от предыдущего состояния больше определённого порога (в соответствии с логикой Устава), инициируется процедура голосования.
- Порог может зависеть от веса оценки (например, по числу голосов, охвату, доверительной ширине распределения).
- Решение, принятое съездом, фиксирует новое агрегированное мнение партии, заменяя соответствующие ячейки в $M$.

Таким образом, $f$ является связующим звеном между выборочной динамикой DAO и институциональным механизмом принятия решений, закреплённым в Уставе партии.

## Децентрализованная автономная организация (DAO)

фыв

## Инфраструктура для человекочитаемой интерпретации внутреннего состояния `M`

asd

## Жизненные циклы ДАПО

1) Введение новых строк и столбцов в матрицы внутри М
2) Введение их описаний
3) Переход М в M'
4) Получение рекомендации

